@each $amount in $space-amounts
  .space-m--all-#{$amount}
    +space-rule("margin", $amount)
  .space-p--all-#{$amount}
    +space-rule("padding", $amount)

  .space-m--both-#{$amount}
    +space-rule("margin-top", $amount)
    +space-rule("margin-bottom", $amount)
  .space-p--both-#{$amount}
    +space-rule("padding-top", $amount)
    +space-rule("padding-bottom", $amount)

@each $direction in $space-directions
  @each $amount in $space-amounts
    .space-m--#{$direction}-#{$amount}
      +space-rule("margin-#{$direction}", $amount)
    .space-p--#{$direction}-#{$amount}
      +space-rule("padding-#{$direction}", $amount)

@each $name in $space-breakpoints
  +at-breakpoint($name)
    @each $amount in $space-amounts
      .space-m--both-#{$amount}-on-#{$name}
        +space-rule("margin-top", $amount)
        +space-rule("margin-bottom", $amount)
      .space-p--both-#{$amount}-on-#{$name}
        +space-rule("padding-top", $amount)
        +space-rule("padding-bottom", $amount)

    @each $direction in $space-directions
      @each $amount in $space-amounts
        .space-m--#{$direction}-#{$amount}-on-#{$name}
          +space-rule("margin-#{$direction}", $amount)
        .space-p--#{$direction}-#{$amount}-on-#{$name}
          +space-rule("padding-#{$direction}", $amount)
